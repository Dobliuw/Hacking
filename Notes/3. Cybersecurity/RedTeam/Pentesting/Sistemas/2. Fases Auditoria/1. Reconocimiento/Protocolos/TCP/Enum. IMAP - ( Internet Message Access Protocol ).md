-----
- Tags: #teoria #practica #recon 
-----
# IMAP

El Internet Message Access Protocol (**IMAP**) nos permite acceder a nuestros correos electrónicos sin importar la ubicación, mayormente accediendo desde internet. Basicamente, correos electrónicos almanecdos en servidores. Por ejemplo, cuando vemos nuestro inbox, nuestro cliente de correo electrónico contacta con el servidor para conectarnos con nuestros mensajes. Cuando leemos un mensaje usando IMAP, no estamos descargando o almacenando este mensaje en nuestra computadora, en lugar de eso, estamos leyendolo desde el servidor. Como resultado, es posible verificar nuestros emails desde varios dispositivos diferentes.

-----
# Enumeración 

Para proceder con la enumeración, puede ser de vital importancia tener en mente los comandos más comunmente usados en IMAP:

```bash
Login
	A1 LOGIN username password
Values can be quoted to enclose spaces and special characters. A \" must then be escape with a \
	A1 LOGIN "username" "password"

List Folders/Mailboxes
	A1 LIST "" *
	A1 LIST INBOX *
	A1 LIST "Archive" *

Create new Folder/Mailbox
	A1 CREATE INBOX.Archive.2012
	A1 CREATE "To Read"

Delete Folder/Mailbox
	A1 DELETE INBOX.Archive.2012
	A1 DELETE "To Read"

Rename Folder/Mailbox
	A1 RENAME "INBOX.One" "INBOX.Two"

List Subscribed Mailboxes
	A1 LSUB "" *

Status of Mailbox (There are more flags than the ones listed)
	A1 STATUS INBOX (MESSAGES UNSEEN RECENT)

Select a mailbox
	A1 SELECT INBOX

List messages
	A1 FETCH 1:* (FLAGS)
	A1 UID FETCH 1:* (FLAGS)

Retrieve Message Content
	A1 FETCH 2 body[text]
	A1 FETCH 2 all
	A1 UID FETCH 102 (UID RFC822.SIZE BODY.PEEK[])

Close Mailbox
	A1 CLOSE

Logout
	A1 LOGOUT
```

Podemos hacer uso de gestores de correo electrónico como **Evolution**, **Claws-mail**, entre otros, para conectarnos con una interfaz gráfica a **IMAP** y hacer lectura de los mails alojados en el servidor de correo.

```bash
apt install evolution
apt install claws-mail
```

Una vez instalado los paquetes de estos gestores, podríamos analizar su uso en internet para desplegar estas herramientas y conectarnos al servidor.
