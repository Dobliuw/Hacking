# Network Stack

El sistema operativo Linux usa el clásico stack `TCP/IP`([[TCP-IP Model]]) implementado dentro del kernel. Este stack es parte del **kernel networking subsystem**, compuesto por capas que interactúan directamente con los sockets (`AF_INET`, `SOCK_STREAM`, etc.). (Vease más de sockets en [[Sockets]])

Los elementos clave que intervienen en una conexión a Internet son:

- *Network Interfaces*: Físicas (`eth0`, `wlan0`) o virtuales (`lo`, `tun0`).
- *Network Management Services*: Como `NetworkManager`, `netplan`, `systemd-networkd`, `wicd`, etc.
- *Administration Commands*: `ip`, `iw`, `wpa_supplicant`, `dhclient`, `resolvectl`, etc.
- *Drivers* (Módulos del kernel): Encargados de comunicar el sistema con el hardware de red.
- *Firmware*: Blobs binarios requeridos por ciertos drivers para inciializar el hardware.

---
# Connectivity Diagnosis and Management

Para **visualizar las interfaces de red disponibles** en nuestro sistema Linux podemos hacer uso de alguno de los siguientes comandos:

```bash
ip link show
# Install net-tools to use it 
ifconfig
```

Para ver el **estado de conexión y asignación IP** de la interfaz correspondiente podríamos usar alguno de los siguientes:

```bash
# Get conection state and interfaces information
ip addr
# Get the IPs for each interface
ip route
# Get the public IP asignated
cat /etc/resolv.conf
```

Para llevar a cabo alteraciones, por ejemplo en el estado, de distintas interfaces, podríamos hacer uso de comandos como:

```bash
sudo ip link set {interface} up
sudo ip link set {interface} down

sudo ifconfig {interface} up
sudo ifconfig {interface} down
```

----
# Wi-Fi Connectivity (Wireless)

Ahora bien, en muchos casos no tendremos la oportunidad de conectarnos a una red mediante un cable ethernet y necesitaremos hacer y saber como hacer uso de una conexión manual a un red de manera inálambrica.

Para entender más en profundidad el funcionamiento de las redes en su aspecto *Wireless*, se recomienda visitar la sección de redes de estos artículos, particularmente el apartado de [[0. Wireless media]] donde se mencionan las intervenciones en este proceso del **AP** y de la **NIC**.

La **NIC** (**Network Interface Card**) es una *tarjeta de red* que disponen a modo de hardware los dispositivos, las cuales permiten la transmisión y recepción de tramas, gestionando la *capa física* ([[0. Physical Layer (L1)]]) y la MAC del estándar Wi-Fi ([[1. Sublayer MAC]]).

En algunos dispositivos, las NIC pueden no disponer de la compatibilidad para el medio inálambrico ([[0. Wireless media]]), por lo que hará falta depender de un dispositivo con este tipo de medios, como podría ser las tarjetas de red Wi-Fi que se utilizan para permitir a un dispositivo comunicarse mediante una red de manera inálambrica.


