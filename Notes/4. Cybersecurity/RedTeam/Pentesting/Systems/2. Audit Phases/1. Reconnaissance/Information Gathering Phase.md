# Information Gathering

Se conoce como **Information Gathering** o **Recopilación de información** a la primera fase de un proceso de pentesting. El objetivo es claro, *recopilar la mayor cantidad de información posible* sobre el *objetivo*, ya sea una organización red, dominio, web, persona o sistema. Esto *sin interactuar directamente o lo menos posible* con el mismo. (Al menos en la parte pasiva).

Esta estapa es crucial dado que a mayor información obtenida de un objetivo, más éxito obtendremos en las etapas posteriores de este proceso. En este punto se descubren cosas como: 

- Dirección IP de la organización.
- Subdominios públicos.
- Empleados y correos electrónicos asociados a los mismos.
- Softwares utilizados y sus correspondientes versiones.
- Infraestructura interna, de la red, etc.
- Sistemas operativos en endpoints y servidores y servicios expuestos.

Entre otra información de valor variante según el caso puntual que nos ayudará a tener un mejor desempeño en las etapas posteriores.

----
# Pentesting Phases

La fase de **Information Gathering** o **Reconnaissance** es la *fase inicial* de tood proceso de pentesting, es donde conocemos nuestro objetivo a atacar. Generalmente, el flujo es algo tal que así:

1. **Information Gathering**.
2. Scanning & Enumeration.
3. Vulnerability Analysis.
4. Expotaition.
5. Post-Explotaition.
6. Reporting

Toda información recolectada en esta etapa inicial será luego utilizada para:

- Identificar vectores de ataque.
- Planificar escaneos más específicos.
- Explotar vulnerabilidades asociadas a servicios o versiones encontradas.

-----
# Information Gathering Types

Esta fase se divide en dos categorías principales:

- **Passive** Information Gathering.
- **Active** Information Gathering.
###### [[0. Pasive Information Gathering]]

Es la técnica de recolectar información *sin interactuar directamente con el objetivo*. 

Ejemplos:

- [[OSINT - Open Source Intelligence]] contra el objetivo. 
- Buscar en Google información relacionada al objetivo ([[Google Dorking|Google Dorking]]).
- Usar [Whois Web](https://whois.domaintools.com/)  o de consola para obtener información del registro de dominio.
- Revisar registros DNS. ([[Pasive DNS Reconnaissance]]) 
- Buscar correos electrónicos filtrados. ([[Email Harvesting]])
- Páginas para validar si correos hayados siguen en uso.
- Búsqueda de imagenes.
- Analizar metadatos de posibles documentas públicos hayados.
- Identificar tecnologías de una web con herramientas de consola como [whatweb](https://github.com/urbanadventurer/WhatWeb), extensiones de navegador como [wappalyzer](https://addons.mozilla.org/es/firefox/addon/wappalyzer) o sitios web como [builtwith](https://buildwith.com) y [netcraft](https://netcraft.com).
- Búsqueda de credenciales y brechas de seguridad.
- Recreación local del sitio web auditado.
- Escuchar tráfico de red si estamos en un entorno físico.
###### Active Information Gathering

En este tipo de técnica de la fase *si se interactúa directamente con el sistema, red o persona objetivo*, enviando solicitudes o paquetes, lo cual puede *ser detectado* por dispositivos de seguridad como *firwalls*, *IDS*/*IPS* u otros.

Ejemplos:

- Escanear puertos con herramientas como `nmap` o customs.
- Enumerar servicios (`nmap`, `netcat` , `banner grabbing` ).
- Enumerar subdominios con herramientas como `ffuf`, `gobuster` o `dirb`.
- Resolver direcciones IP de hosts activos.
- Enumerar o Fuzzear servicios de red (HTTPS, HTTP, FTP, FTPS, SMB, etc.).