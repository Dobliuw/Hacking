-----
- Tags: #tools #automatic 
----

# ¿ Que es **Metasploit** ? 

**Metasploit** es una plataforma de pruebas de penetración (Penetration Testing Framework) que se utiliza para realizar pruebas de seguridad en sistemas y aplicaciones. Esta plataforma es amplia mente utilizada por investigadores de seguridad, pentesters y profesionales de la seguridad para descubrir vulnerabilidades y realizar pruebas de explotación de vulnerabilidades. Metasploit se basa en un conjunto de herramientas de seguridad que incluyen un framework de desarrollo de exploits, un motor de base de datos de vulnerabilidades y una colección de módulos de explotación de vulnerabilidades. 

Esta herramienta se utiliza para probar la seguridad de un sistema o aplicación mediante la realización de pruebas de penetración, con el objetivo de identificar y explotar vulnerabilidades de seguridad. Para hacer esto, Metasploit proporciona una gran cantidad de exploits, payloads y módulos de post-explotación, que pueden ser utilizados por los profesionales de seguridad para identificar vulnerabilidades y explotarlas. Al utilizar metasploit, los profesionales de la seguridad pueden simular ataques reales y descubrir vulnerabilidades en sistemas y aplicaciones antes de que los atacantes malintencionados puedan hacerlo, lo que les permite corregir las vulnerabilidades y mejorar la seguridad de sus sistemas. 

-----

Los módulos de metasploit son muchos, como exploits, nops, encoders, evasión, etc. Estos mayormente se pueden ver en **/usr/share/metasploit-framework/modules** donde podríamos ver cada uno de los scripts que se contienen y demás. 

Cada script suele tener una función *initialize* la cual contiene las plataformas, referencias, autor, etc. Lo que viene muy bien para utilizar la función **search** de metasploit que te permite filtrar y realizar búsquedas. 

- ## Inicializar Metasploit: 
```bash
msfdb run 
```

- ## Búsquedas en Metasploit: 
```bash
# Listar como utilizar la funcionalidad de search
search
# Buscar cosas de un sistema operativo: 
search platform:"linux"
# Buscar tipos de payload/encoders/etc: 
search platform:"windows" type:"encoder"
```

- ## Espacios de trabajo: 
```bash
# En Metasploit esxisten "workspaces" que sirven para trabajar de una manera más ordenada

# Listar espacios de trabajo 
workspace
# Crear nuevo espacio de trabajo 
workspace -a {name}
# Migrar a diferente espacio de trabajo 
workspace {name}
```

- ## Usar scripts: 
```bash
# Usar el script:
use {script}
# Listar opciones: 
show options
# Listar opciones avanzadas: 
show advanced options
# Obtener información del script: 
info 
# Modificar valores del script
set VERBOSE true
# Correr el script 
run 
```

- ## Reconocimiento: 
```bash
# Podemos escanear con un script de MSF la red, una vez que tengamos los hosts descubiertos...
use scanner/discovery/arp_sweep 
set RHOST {ip}/{cidr}
run  
# Podremos ver los hosts descubiertos
hosts
# Y los servicios detectados para dichos hosts
services
# Así como importar en formato XML el resultado del escaneo de nmap 
nmap -sS --min-rate 5000 -p- --open -vvv -n -Pn {ip} -oX allPorts
db_import /path/allPorts 
# Al listar los servicios ahora veríamos los importados y descubiertos por nmap
# Para listar info de los puertos así como el OS podríamos hacer lo mismo:
nmap -A {ip} -oX OSSccan
db_import /path/OSScan
# Seleccionar campos especificos
hosts -C {field}
# Usar nmap integrado 
db_nmap {ip}
``` 

----
