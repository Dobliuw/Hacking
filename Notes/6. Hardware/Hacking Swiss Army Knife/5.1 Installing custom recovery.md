# Preparing Kali NetHunter PRO installation (*Option 2.2*)

Si llegaron a este artículo quiere decir que les interesa la opción de tener un entorno 100% dedicado al hacking en su dispositivo móvil, lo cual me gusta, así que avanzemos.

----
# Custom Recovery - [TWRP](https://twrp.me/)

Un **Custom Recovery** en Android es un *entorno de recuperación no oficial que reemplaza al recovery defábrica del dispositivo*. Permite realizar tareas como instalar ROMs personalizadas, hacer y restaurar copias de seguridad, montar particiones para modificarlas, borrar caché, resetear el dispositivo, etc.

El **Stock Recovery** es el que viene presintalado por el fabricante y teiene funcionalidades limitadas. Por otro lado, un **Custom Recovery**, como [TWRP](https://twrp.me/) o *ClockworkMod Recovery* (*CWM*), ofrece opciones más avanzadas y flexibilidad.

----
# Installing TWRP

Como mencionamos arriba **TWRP** (**T**eam **W**in **R**ecovery **P**roject) es un *custom recovery* para Android, pequeño sistema independiente al de Android principal que se arranca antes del sistema operativo y, como vimos, sirve para realizar tareas de mantenimiento como:

- Flashear ROMs, kernels y mods.
- Hacer y restaurar backups completos (Nandroid backups).
- Montar particiones como `/syste`, `/vendor` o `/data` y modificarlas.
- Borrar caché o resetear el dispositivo.

A diferencia del *stock recovery* que solo nos permite restaurar el sistema oficial y aplicar actualizaciones firmadas. **TWRP**, en cambio, es totalmente interactivo, con interfaz táctil y sin restricciones, lo que permite instalar cualquier archivo `.zip` o `.img`que decidamos.

En mi caso necesitaría instalar el `.zip`y el `.img`del sitio oficial para el modelo de mi **Pixel 6** (*oriole*), pero lamentablemente no existe. Busquen en la [web de TWRP](https://twrp.me/Devices/) si está el modelo y nombre de su dispositivo:

- Obtener el nombre del dispositivo.
```bash
adb shell getprop ro.product.device
```

Por lo que la alternativa que me queda es instalar *Kali NetHunter* sin *TWRP*, pero esto tampoco me daría acceso al hardware como a mi particularmente me interesa (Esto se detalla en la sección de [1. Kali NetHunter pre-built images and support](https://www.kali.org/docs/nethunter/installing-nethunter/)).

Yo particularmente de momento no tengo un dispositivo ni que tenga una imagen pre-builded ni soportado por Kali NetHunter. Lo que, como mencione, si bien mencionan que podemos hacer uso de Kali NetHunter, este será con funcionalidades del hardware limitadas. 

Veré si me meto en intentar modificar el kernel del Pixel 6 para permitir un full OTG hardware access.

Para cualquiera que haya llegado a este punto, le recomiendo seguir la guía de instalación de [Installing Kali NetHunter](https://www.kali.org/docs/nethunter/installing-nethunter/)

----
# Installing NetHunter inside Termux

Si bien esto no me permitirá tener 100% acceso y control via OTG del hardware :( , por lo menos me permitira tener el entorno Kali Linux completo con su arsenal de herramientas.

Empezaremos por actualizar los paquetesn, instalar el entorno necesario y habilitar el acceso al almacenamienot (`/sdcard`):

```bash
pkg update && pkg upgrade -y
pkg install wget proot-distro
termux-setup-storage
```

Como puede fallar el script oficial por cambios en enlaces antiguos. Usaremos una [versión comunitaria](https://raw.githubusercontent.com/jorexdeveloper/termux-nethunter/main/install-nethunter.sh) más confiable:

```bash
pkg install curl -y
curl -fsSL https://raw.githubusercontent.com/jorexdeveloper/termux-nethunter/main/install-nethunter.sh -o install-nethunter-termux.sh
chmod +x install-nethunter-termux.sh
bash install-nethunter-termux.sh
```

Este script descargará e instalará automáticamente el sistema de archivos de Kali dentro del chroot.
