---------
- Tags: #teoria #practica #recon 
-------
# LSASS 

En windows **lsass (Local Security Authorityt Subsystem Service)** es un proceso crucial en el sistema operativo Windows. Es responsable de proporcionar diversos servicios de seguridad en el sistema, como la autenticación de usuarios, la administración de contraseñas, el manejo de políticas de seguridad y la autorización para el acceso a recursos y funciones del sistema. 

------
# Explotación 

Como vimos **lsass** es un proceso de interez de cara a auditorias, este contiene información muy sensible del sistema, hashes NT, passworrds, etc. Mayormente para tener acceso a estos datos es necesario realizar un **volcado de memoria** como *ProcDump* o **MiniDumpWirteDump**. Estas herramientas crear un archvo que contiene una instantánea de la memoria del proceso lsass. 

Puede ser que nos encontremos escenarios raros en donde podamos llegar a ver archivos, comprimidos, carpetas con el nombre **lsass** lo cual automaticamente podría ser de un profundo interez ya que tal vez nos podrámos encontrar con archivos **.dmp** los cuales son archivos que contienen una instantánea del contenido de la memoria en el momento en el que se realizo el volcado. 

De manera que esto puede ser de crucial interez para analizar de cara a una auditoria. 

```bash
file {file.dmp}
# Con esto podemos ver el tipo de archivo .dmp al que nos enfrentamos, por ejemplo "Mini DMP"

pypykatz lsa {dump_type} {file.dmp}
# Podemos hacer uso de la herramienta pypykatz (Implementación de mimiktaz en python) para intentar listar el contenido del archivo DMP 
# Deberemos ingresar en {dump_file} una de las opciones que nos da la herramienta, por ejemplo si tuvieramos un archivo "Mini DMP" ingresariamos minidump 
# (Esto lo contempla la propia herramienta)
```

Una vez analizado el contenido, en el mejor de los casos nos podríamos encontrar con contraseñaes, hashes NT y montón de información sensible para poder comprometer el sistema o continuar por otras vías. 

