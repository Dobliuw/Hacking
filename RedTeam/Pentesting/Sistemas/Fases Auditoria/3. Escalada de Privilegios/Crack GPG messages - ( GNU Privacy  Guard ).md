------
- Tags: #teoria #practica #escalada 
- -----
# GPG  

GPG es una implementación del estándar de cifrado de datos de OpenPGP (pretty Good Privacy). Proporciona una forma de ecnriptar y firma digitalmente datos, lo que garantiza la confidencialidad y auntenticidad de la información. GPG se utiliza ampliamente para protefer la privacidad de los correos electrónicos y otros datos sensibles. 

-----
# Public and Private keys

**Clave Pública:** Es una clave que se comparte abiertamente y se utiliza para cifrar datos y verificar firmas digitales. Cualquiera puede obtener tu clave pública. Su función principal es cifrar los datos que solo tú, con tu clave privada, podrás descifrar.
**Clave Privada:** Es una clave secreta que posees y utilizas para descifrar los datos cifrados con tu clave pública, y también para firmar digitalmente los datos. La clave privada nunca debe ser compartida n idivulgada, ya que comprmetería la seguridad de tuis comunicaciones. 
---
# Huellas Daactilares  y Firmas digitales

Las **fingerprints (Huellas Dactilares)** y las **firmas digitales** son dos conceptos importantes en el contexto de **GPG**.

- ### **Fingerprints:** Es un representación única y compacta de una clave pública. Se genera a partir de los valores de la clave pública y se utiliza para verificar la autenticidad de una clave. La huella digital es un secuencia alfanumérica que generalmente se representa en grupos separados por espacios para facilitar su lecutra y comparación.
- ### **Firmas Digitales:** Las firmas digitales son una forma de autenticación y verificación en el mundo digtal. En el contexto de GPG, una firma digital se crea utilizzando tu clave privada para cifrar un resumen (hash) del contenido de un archivo o mensjes. LA firma resultate se adjunta al archivo y se comparte jutno con el contenido. 
En resumen las *fingerprints* son una forma segura de identificar claves públicas y de verificar su autenticidad, mientras que las *firmas digitales* son utlizadasa para autenticar y verificar la ingregridad de los datos. 

------
# Uso de GPG

Para hacer uso de **gpg** primeramente necesitamos instalarlo con el comando `sudo apt-get install gnupg`, una vez realizado esto ya podríamos comenzar a hacer uso de esta herramienta. 

- ### **Generar un par de claves:** 
```bash
gpg --gen-key
```

- ### **Exporatar e importar claves:** 
```bash
# Exportar una clave pública
gpg --export -a 'nombre' > public_key.asc
# Importar un calve pública 
gpg --import public_key.asc
```

- ### **Cifrar datos:** 
```bash
echo 'text to encrypt' | gpg --encrypt --armor -r 'recipient@gmail.com' > text_encrypted.asc
```

- ### **Descifrar datos:** 
```bash
gpg --decrypt {encrypted_file}
```

- ### **Firmar digitalmente:**
```bash
gpg --sign archivo.txt
```

- ### **Verificar firma:**
```bash
gpg --verify archivo.txt.sig
```


-----
# Crackeo de mensajes GPG

Cuando nos enfrentemos a mensajes encriptados, en caso de contar con la clave **privada** podríamos importar esta e intentar encontrar la clave utilizada para la creación de esta clave, ya que habitualmente se suele utilizar constraseñas para la creación de estas claves y así protegerlas.

Para extraer el hash de esta contraseña desde una clave **privada** podemos hacer uso de herramientas como **gpg2john**. 

```bash
gpg2john private_key.asc > hash_gpg
```
Una vez dispongamos del hash almacenado en un archivo, podremos intentar realizar ataques de fuerza bruta con herramientas como **john**. 

```bash
john --wordlist=/usr/share/wordlist/rockyou.txt hash_gpg
```