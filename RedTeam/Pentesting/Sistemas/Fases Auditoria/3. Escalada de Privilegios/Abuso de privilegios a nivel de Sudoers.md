-----
- Tags: #teoria #practica #ataques #escalada #basico
----

# Abuso de privilegios a nivel de Sudoers

El archivo **/etc/sudoers** es un archivo de configuración en sistemas Linux que se utiliza para controlar el acceso a los usuarios a las diferentes acciones que pueden realizar en el sistema. Este archivo contiene una lista de usuarios y grupos de usuarios que tiene permisos para realizar tareas de administración en el sistema. 

El comando **"sudo"** permite a los usuarios ejecutar comandos como superusuarios o como otro usuario con privilegios especiales. El archivo sudoers especifica qué usuarios pueden ejecutar qué comandos con sudo y con qué privilegios.

Abusar de los privilegios a nivel de sudoers es una técnica utilizada por los atacantes para elevar su nivel de acceso en el sistema comprometido. Si un atacantes es capaz de obtener acceso a una cuenta con permisos de sudo en el archivo sudoers, puede ejecutar comandos con privilegios especiales y realizar acciones maliciosas en el sistema. 

El comando **"sudo -l"** es utilizado para listar los permisos de sudo de un usuario en particular. Al ejecutar este comando, se muestra una lista de los comandos que el usuario tiene permiso para ejecutar y bajo qué condiciones. 

# Evitar el abuso de privilegios de Sudoers 

Para prevenir el abuso de privilegios a nivel de sudoers, se recomienda mantener los permisos adecuados en el archivo sudoers y limitar el número de usuarios con permisos de sudo. Además, es importante monitorear regularmente el archivo sudoers y buscar cambios inesperados o sospechosos en su contenido. 

# Escalada 

La escalada varía en base a como se abusa del privilegio que se pueda llegar a tener sobre el binario, pero esto lo podemos encontrar en páginas como [gtfobins](https://gtfobins.github.io/gtfobins), donde una vez tengamos identificado el binario sobre el cual tengamos la posibilidad de ejecutarlo como otro usuario, sea root u otro con más privilegios que el que tenemos en ese momento, simplemente nos dirigimos a dicha página y seguimos los pasos de como escalar nuestro privilegio.

Los binarios o tareas que puede ejecutar un usuario proporcionando contraseña  o no, se pueden encontrar en el archivo **/etc/sudoers** donde por ejemplo, si el usuario **dobliuw** pudiese ejecutar bajo los privilegios de otro usuario (**root**) un comando en particular, como por ejemplo [[Nmap]] podríamos ver en **gtfobins** si existe riesgos de poder ejecutar dicho comando como **root**. 

#### */etc/sudoers*
#### .....
#### User privilege specification
#### dobliuw ALL=(root) NOPASSWD: /usr/bin/nmap






















