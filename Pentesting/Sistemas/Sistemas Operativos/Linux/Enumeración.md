--- http://localhost/index.php?id=1
- Tags: #basic #linux #enumeration #bash
---

# Intentos basicos:

```shell
nmap -p- --open -sS --min-rate 5000 -n -Pn -vvv {ip} 
# Escanear todos los rangos de puerots con SYN Port Scan, emitiendo paquetes no más lentos que 5000 paquetes por segundo, solo aquellos que esten abiertos sin resolución DNS.
gobuster dir -t 500 -r -w {wordlist} -u {url} --no-error
# Fuzzing a directorios o paths de la ulr especificada, tirando con un total de 500 hilos, siguiendo las redirecciones y ocultando los errores
# En caso de que nmap liste un .git, el cual suele ser comun en auditorias reales, podriamos tirar de la herramienta "GitHack" (pip instal GitHack) para recomponer repositorios de git.
aws # Herramienta de python (pip install awscli), para tener conexiones con servidores aws


############################## DENTRO DEL SISTEMA ######################################
uname -a 
# Version del kernel
lsb_release -a 
# Informacion extra del sistema 
cat /etc/os-release
# Si no existe e lsb_release -a 
id
# Ver los grupos, dependiendo de estos aveces de podría escalar privilegios.
find / -perm /4000 2>/dev/null
# Buscar desde la raiz del sistem archivos con permisos SUID.
sudo -l
# Ver sudoers disponibles para la sesión actual.
getcap -r / 2>/dev/null
# Obtener las capabilities desde la raiz, para elimnar capabilities setcap -r {file}
crontab -l 
# Listar tareas cron del usuario
cat /etc/crontab 
# Intentar ver tareas cron
ls -la /etc/cron.d
# Ver tareas cron del sistema
systemctl list-timers 
# Ver tiempos restantes antes de la ejecución de un comando 
lsattr 
# Ver permisos especiales
bash -c "echo \"\" > /dev/tcp/{target_ip}/{port} 2>/dev/null" && echo "{port} open"
# Se deberia testear aquellos puertos abiertos ya que podrian haber puertos diferentes que desde otra maquina no se visualizan por reglas de firewall
```

### Explotar caps, sudo perms, suid, etc. 

#### [GTFOBINS](https://gtfobins.github.io/)

---

# Herramientas: 

### [PSPY](https://github.com/DominicBreuker/pspy)
##### Para monitorear procesos del sistema

### [linPEAS](https://github.com/carlospolop/PEASS-ng/tree/master/linPEAS)
##### Para buscar posibles vulnerabilidades para escalar privilegios


