----
- Tags: #windows #basico #teoria #practica #escalada 
- ------

# Comandos de reconocimiento del sistema: 

### A la hora de intentar escalar privilegios en un sistema windows, es muy importante identificar múltiples posibles vectores de manera prevía a comenzar a rebuscarnos la escalada, algunos de ellos son:

- #### Listar directorios ocultos así como **ADS ( Alternate Data Streams )**: 
```powershell
# Incluir archivos ocultos
> dir -Force
# Listar ADS: 
> dir /r
```

### Los **ADS (Alternate Data Streams)** son una característica del sistema de archivos **NTFS (New technology File System)** que permite asociar datos adicionales a un archivo o directorio. Básicamente, las **ADS** permiten almacenar información adicional, aparte de los datos principales del archivo, en un flujo de datos secundario.

##### Crear ADS:
```powershell
echo "ADS content" > {filename.extension}:{ADS_name.extension}
```
##### Listar ADS:
```powershell
dir /r {filename.extension}
```
##### Leer ADS:
```powershell
more < {filename.extension}:{ADS_name.extension}
```

- #### Listar privilegios del usuario 
```powershell
> whoami /priv 
> whoami /all
```

- #### Listar puertos abiertos 
```powershell
> netstat -an
> netstat -nat
> netstat -ano -p tcp
```

- #### Listar usuarios e información de un usuario 
```powershell
# Listar usuarios del sistema
> net user 
# Listar información de un usuario
> net user "{username}"

```

- #### Listar información de un grupo
```powershell
net localgroup "{groupname}"
```

- #### Listar procesos del sistema y servicios 
```powershell
> tasklist
> services
```

- #### Listar información del sistema
```powershell
# Información del sistema 
> systeminfo
# Nombre de la máquina 
> hostname
```

- #### Si estamos ante un IIS (Internet Information Services), listarlo: 
```powershell
# Listar ruta donde estaría el IIS,
# Servidor web y un conjunto de servicios para el sistema Windows.
> cd C:\inetpub\wwwroot
> dir 
```

